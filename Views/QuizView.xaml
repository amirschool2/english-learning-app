<UserControl x:Class="EnglishLearningApp.Views.QuizView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White" Margin="10">
    <StackPanel Margin="20" VerticalAlignment="Center" HorizontalAlignment="Center" Width="600">
        <TextBlock Text="Quiz" FontSize="28" FontWeight="Bold" Foreground="#2C3E50" Margin="0,0,0,20"/>

        <!-- Start Quiz Screen -->
        <StackPanel Visibility="{Binding QuizActive, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=True, Mode=OneWay}">
            <TextBlock Text="Select Quiz Type" FontSize="20" FontWeight="Bold" Foreground="#2C3E50" Margin="0,0,0,20"/>
            <Button Content="Start Multiple Choice Quiz" Background="#3498DB" Foreground="White"
                    Padding="20" FontSize="16" Command="{Binding StartMultipleChoiceCommand}"
                    Margin="0,0,0,10" CornerRadius="5" Height="50"/>
        </StackPanel>

        <!-- Quiz Active Screen -->
        <StackPanel Visibility="{Binding QuizActive, Converter={StaticResource BooleanToVisibilityConverter}, Mode=OneWay}">
            <TextBlock Text="{Binding ProgressText}" FontSize="14" Foreground="#7F8C8D" Margin="0,0,0,10"/>

            <Border Background="#ECF0F1" CornerRadius="8" Padding="20" Margin="0,0,0,20">
                <TextBlock Text="{Binding CurrentQuestion}" FontSize="18" FontWeight="Bold" 
                           Foreground="#2C3E50" TextWrapping="Wrap" TextAlignment="Center"/>
            </Border>

            <!-- Options -->
            <ItemsControl ItemsSource="{Binding Options}" Margin="0,0,0,20">
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Content="{Binding}" Background="#95A5A6" Foreground="White"
                                Padding="15" Margin="0,5" FontSize="14" CornerRadius="5"
                                Command="{Binding DataContext.SubmitAnswerCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                CommandParameter="{Binding}"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>

            <!-- Cancel -->
            <Button Content="Cancel Quiz" Background="#E74C3C" Foreground="White"
                    Padding="15" FontSize="14" Command="{Binding CancelCommand}" CornerRadius="5"/>
        </StackPanel>

        <!-- Score Display -->
        <TextBlock Text="{Binding CurrentQuestion}" FontSize="16" FontWeight="Bold"
                   Foreground="#2C3E50" TextAlignment="Center" TextWrapping="Wrap"
                   Visibility="{Binding QuizActive, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=True, Mode=OneWay}"/>
    </StackPanel>
</UserControl>
